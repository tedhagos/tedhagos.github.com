<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>macOS Cheatsheet - Ted&#39;s notes</title>
  <meta property="og:title" content="macOS Cheatsheet - Ted&#39;s notes" />
  <meta name="twitter:title" content="macOS Cheatsheet - Ted&#39;s notes" />
  <meta name="description" content="Routing table The routing table does not show using route print in OSX, this may have worked in Linux but not here. Use the command netstat -nr instead
Show/Hide hidden files Finder The OSX Finder does not show hidden files by default. A file is hidden if the name starts with a dot or period e.g. .bash_profile, .emacs.d etc. If you want to see these kinds of files in the Finder, execute this commands using the Terminal.">
  <meta property="og:description" content="Routing table The routing table does not show using route print in OSX, this may have worked in Linux but not here. Use the command netstat -nr instead
Show/Hide hidden files Finder The OSX Finder does not show hidden files by default. A file is hidden if the name starts with a dot or period e.g. .bash_profile, .emacs.d etc. If you want to see these kinds of files in the Finder, execute this commands using the Terminal.">
  <meta name="twitter:description" content="Routing table The routing table does not show using route print in OSX, this may have worked in Linux but not here. Use the command netstat -nr instead
Show/Hide hidden files Finder The OSX Finder â€¦">
  <meta name="author" content="Your name"/>
  <meta property="og:site_name" content="Ted&#39;s notes" />
  <meta property="og:url" content="/posts/macos-cheatsheet/" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="/images/snow-leopard.jpg" />
  <meta name="twitter:image" content="/images/snow-leopard.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.36" />
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />  
  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">Ted&#39;s notes</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>



  <div class="main" role="main">
    <article class="article">
      <img src="/images/snow-leopard.jpg" class="article-image" />
      
      <h1 class="article-title">macOS Cheatsheet</h1>
      
      
      <ul class="article-meta">
        <li class="article-meta-date"><time>October 20, 2014</time></li>
      </ul>
      
      
<aside class="toc">
  <nav id="TableOfContents">
<ul>
<li><a href="#routing-table">Routing table</a></li>
<li><a href="#show-hide-hidden-files-finder">Show/Hide hidden files Finder</a></li>
<li><a href="#setting-the-hostname">Setting the hostname</a></li>
<li><a href="#anti-alias">Anti alias</a></li>
<li><a href="#homebrew-package-management">Homebrew package management</a></li>
<li><a href="#colored-terminal-window">Colored terminal window</a></li>
<li><a href="#picture-file-location-of-photobooth">Picture file location of Photobooth</a></li>
<li><a href="#cli-copy-paste">CLI Copy Paste</a></li>
<li><a href="#assistive-technology-in-10-9-mavericks">Assistive Technology in 10.9 (mavericks)</a></li>
<li><a href="#scanning">Scanning</a></li>
<li><a href="#turn-off-iphoto-when-an-ios-device-connects">Turn off iPhoto when an iOS device connects</a></li>
<li><a href="#external-usb-drives">External USB drives</a></li>
<li><a href="#back-up-mail-app">Back up Mail.app</a></li>
<li><a href="#convert-matroska-mkv-files-to-mp4">Convert matroska (mkv) files to mp4</a></li>
<li><a href="#share-internet">Share internet</a></li>
<li><a href="#simple-music-player">Simple music player</a></li>
<li><a href="#squeaky-clean-hard-drive">Squeaky clean hard drive</a></li>
<li><a href="#download-accelerator">Download accelerator</a></li>
<li><a href="#rip-audio-cds-to-mp3">Rip audio cds to mp3</a></li>
<li><a href="#rip-audio-cds-to-flac-format">Rip audio cds to flac format</a></li>
<li><a href="#php-pear">PHP pear</a></li>
<li><a href="#phar-php-composer">PHAR &amp; PHP composer</a></li>
<li><a href="#write-markdown-files-export-latex-html-etc">Write markdown files, export LaTex, HTML etc</a></li>
<li><a href="#show-the-week-number-in-cal">Show the week number in cal</a></li>
<li><a href="#keyboard-shortcut-for-full-screen">Keyboard shortcut for Full Screen</a></li>
<li><a href="#cli-music-player">CLI music player</a>
<ul>
<li><a href="#using-the-built-in-cli-player">Using the built in CLI player</a></li>
<li><a href="#music-on-console-moc">Music On Console (moc)</a></li>
</ul></li>
<li><a href="#fixing-homebrew-after-upgrade-to-10-9">Fixing homebrew after upgrade to 10.9</a></li>
<li><a href="#screen-shooting">Screen shooting</a></li>
<li><a href="#icloud-drive-access-from-cmd-line">iCloud drive access from cmd line</a></li>
</ul>
</nav>
</aside>
      

<h1 id="routing-table">Routing table</h1>

<p>The routing table does not show using <code>route print</code> in OSX, this may have worked in Linux but not here. Use the command <code>netstat -nr</code> instead</p>

<h1 id="show-hide-hidden-files-finder">Show/Hide hidden files Finder</h1>

<p>The OSX Finder does not show hidden files by default. A file is hidden if the name starts with a dot or period e.g. <em>.bash_profile</em>, <em>.emacs.d</em> etc. If you want to see these kinds of files in the Finder, execute this commands using the Terminal.app</p>

<pre><code>$ defaults write com.apple.finder AppleShowAll Files -bool YES
$ killall Finder
</code></pre>

<p>To reverse the process, execute the following commands</p>

<p>The <code>killall</code> command will restart the Finder. After it has restarted, you should be able to see hidden files.</p>

<pre><code>$ defaults write com.apple.finder AppleShowAll Files -bool NO
$ killall Finder
</code></pre>

<h1 id="setting-the-hostname">Setting the hostname</h1>

<p>The <code>hostname</code> command, when executed on a terminal window will give you, well, the hostname, which is the name of your machine. On a networked environment, this hostname gets affected by DHCP; it overrides the hostname of your machine. If you want to set the hostname, execute <code>sudo scutil --set HostName anyname_you_want</code> on a terminal window</p>

<h1 id="anti-alias">Anti alias</h1>

<p>On the terminal, type</p>

<pre><code>$ defaults --currentHost write -globalDomain AppleFontSmoothing -int 1
</code></pre>

<p>The value 1 in <code>-int 1</code> means light anti aliasing, a value of <em>2</em> will set anti aliasing to medium and and <em>3</em> will be for strong anti aliasing</p>

<h1 id="homebrew-package-management">Homebrew package management</h1>

<p>You need XCode before you can install homebrew. Make sure you have downloaded it from the AppStore and that you have also installed it&rsquo;s command line utilities. After that, get a terminal window and type</p>

<pre><code>$ ruby -e &quot;$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)&quot;
</code></pre>

<p>Ruby comes packaged with OSX so this command will work. Now test it out.</p>

<pre><code>$ brew install git # will install git
$ brew install wget
$ brew install curl 
$ brew install axel # wget in steroids
</code></pre>

<h1 id="colored-terminal-window">Colored terminal window</h1>

<p>Open up <code>~/.bash_profile</code> and add the following line</p>

<pre><code>alias ls=&quot;ls -G&quot;
</code></pre>

<h1 id="picture-file-location-of-photobooth">Picture file location of Photobooth</h1>

<p>They are in <em>~/Pictures/Photo Booth Library Pictures</em></p>

<h1 id="cli-copy-paste">CLI Copy Paste</h1>

<p>To copy content of files while on a terminal, use <code>pbcopy</code> e.g. <code>cat somefile | pbcopy</code>. The contents of somefile are now on the clipboard. You can paste it with the usual <code>CTRL v</code> if you are using any GUI editor. If you need to perform a paste on the terminal, use <code>pbpaste</code> e.g. <code>echo pbpaste</code>, the contents of the clipboard will be echoed to the terminal.</p>

<h1 id="assistive-technology-in-10-9-mavericks">Assistive Technology in 10.9 (mavericks)</h1>

<p>Not anymore in its usual place. This is now in <code>System Preferences -&gt; Security and Privacy -&gt; Privacy</code>. TextExpander will not work as soon as you upgrade to 10.9. But if you quickly visit and reenable TextExpander in Assistive technology dialog window, all will be well again</p>

<h1 id="scanning">Scanning</h1>

<p>Use <em>Image capture</em>, the <em>Scaner and Printer Queue</em> or <em>Preview</em>. All of these built-in software in have capabilities for image capture</p>

<h1 id="turn-off-iphoto-when-an-ios-device-connects">Turn off iPhoto when an iOS device connects</h1>

<p>When you plug an iOS device, iPhoto quickly springs into action offering to sync Photos. You can turn it off
1.  Launch <em>Image Capture</em>, <code>cmd + space</code> then type Image Capture in Spotlight
2.  On the lower left region of <em>Image Capture</em> window, look for <strong>Connecting this iPad opens iPhoto</strong>
3.  Click the dropdown. Choose <strong>No Application</strong></p>

<h1 id="external-usb-drives">External USB drives</h1>

<p>You can <code>cd</code> to the external drive in <code>~/Volumes</code></p>

<h1 id="back-up-mail-app">Back up Mail.app</h1>

<ol>
<li><code>mkdir ~/MailBackup</code></li>
<li><code>cd ~/MailBackup</code></li>
<li><code>cp -r ~/Library/Mail/V2</code></li>
</ol>

<h1 id="convert-matroska-mkv-files-to-mp4">Convert matroska (mkv) files to mp4</h1>

<p><code>ffmpeg i movietitle.mkv -vcodec copy -acodec copy movietitle.mp4</code></p>

<p>This only involves changing of containers. No encoding or conversion will happen. If you have a lot of mkv files to convert, a script file is a better approach. On the same folder where the mkv files are located, create a script file, say <em>convert.sh</em>, type the following script inside the script</p>

<pre><code>for i in $(ls *mkv); do ffmpeg -i -vcodec copy -acodec copy $i.mp4; done
</code></pre>

<p><code>chmod u+x convert.sh</code><br />
<code>convert.sh</code></p>

<h1 id="share-internet">Share internet</h1>

<p>If you don&rsquo;t mind OSX changing changing the subnet when <em>Internet Sharing</em> is activated, you don&rsquo;t have to do this. If on the other hand, you have other devices that needs a fixed subnet e.g. file servers, other PCs that have statically defined IPs, then you need to control OSX&rsquo;s behavior on NAT</p>

<p><code>sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.nat NAT -dict-add SharingNetworkNumberStart 192.168.3.0</code></p>

<h1 id="simple-music-player">Simple music player</h1>

<p>Get Cogx, head over to <a href="http://cogx.org">cogx.org</a></p>

<h1 id="squeaky-clean-hard-drive">Squeaky clean hard drive</h1>

<p>Removing apps is simple, just go the <em>Applications folder and remove it. But there are residual files left when doing this. Also those language files take up hard drive. If you are using an SSD with limited drive space, then every Gig counts. Get a commercial app. /Clean My Mac</em> is decent and cheap enough</p>

<h1 id="download-accelerator">Download accelerator</h1>

<p><code>brew install axel</code><br />
<code>axel -n 10 http://wordpress.org/latest.zip</code></p>

<p>The int value <em>10</em> means it will use 10 threads to pull the file simultaneously. It&rsquo;s similar to <em>wget</em>, only this time, there are 10 wget running at the same time</p>

<h1 id="rip-audio-cds-to-mp3">Rip audio cds to mp3</h1>

<p>Get <a href="http://sbooth.org/Max/">MAX</a> from SBooth. Work on the archive files and put it in /Applications folder or where you want them. It&rsquo;s a GUI tool, so it&rsquo;s easy to work with.</p>

<p>MAX uses musicbrainz.org for the CD metadata, the service is not good enough. GraceNotes, which is used by iTunes is more capable. The problem is, I couldn&rsquo;t find a direct way to connect MAX to GraceNotes. You need a bit of AppleScripting, this solution was the from the SBooth forums as well.</p>

<ol>
<li>Create a Script in AppleScript, Save it anywhere you can find it easily. The script can be found on the link above (the sbooth forum), but I saved it in gist.github.com, here&rsquo;s the link <a href="https://gist.github.com/tedhagos/5845190">https://gist.github.com/tedhagos/5845190</a></li>
<li>When you insert the CD, iTunes will launch as well (you need this)</li>
<li>Run the script you created. That will get the meta data of iTunes</li>
<li>Rip Away</li>
</ol>

<p>This solution needs both iTunes and MAX running at the same time. When iTunes grabs the metadata from Gracenotes, the script grabs the metadata from iTunes</p>

<h1 id="rip-audio-cds-to-flac-format">Rip audio cds to flac format</h1>

<p><code>brew install cdparanoia</code><br />
<code>brew install abcde</code><br />
<code>touch ~/.abcde.conf</code></p>

<p>Put the following codes inside ~/.abcde.conf</p>

<pre><code>CDROM=/dev/disk1
OUTPUTTYPE=flac
INTERACTIVE=n
PADTRACKS=y
OUTPUTDIR=~/Music/abcde
OUTPUTFORMAT='${ARTISTFILE}/${ALBUMFILE}/${TRACKNUM} - ${TRACKFILE}'
VAOUTPUTFORMAT='Various/${ALBUMFILE}/${TRACKNUM} - ${TRACKFILE}'
mungefilename ()
{
  echo &quot;$@&quot; | sed s,:, -,g | tr /* _+ | tr -d '&quot;?[:cntrl:]
}
</code></pre>

<p>dev/disk1 is where my CD is mounted, find out where yours is mounted. A simple <code>df</code> command should give you some clue where the CD drive is mounted. After that, ripping can start. To rip, do the following</p>

<p><code>diskutil unmount /dev/disk1</code><br />
<code>abcde</code><br />
<code>diskutil eject /dev/disk1</code></p>

<p>The unmounting is necessary because abcde works with raw block devices and cannot function when the CD is mounted. I shamlessly ripped most of this guide from <a href="http://hints.macworld.com/article.php?story=2005101620055677">extempore, MacWorld</a></p>

<h1 id="php-pear">PHP pear</h1>

<p>This is no longer included in 10.8, maybe it did not even make it in Leopard, I&rsquo;m not sure. Just curl it</p>

<p><code>curl http://pear.php.net/go-pear.phar &gt; go-pear.phar</code><br />
<code>sudo php -q go-pear.phar</code></p>

<p>PEAR installation will be at ~/pear/, bin, etc and all. Next, update your ~/.bash_profile to include pear in the system path.</p>

<p><code>echo &quot;export PATH=$PATH:~/pear/bin:.&quot; &gt;&gt; ~/.bash_profile</code></p>

<h1 id="phar-php-composer">PHAR &amp; PHP composer</h1>

<p>Create a php.ini file first. OSX does have it at <em>private/etc. Don&rsquo;t copy the ini file somewhere else, it needs to be at /private/etc</em>. Make sure that php.ini is actually in that directory</p>

<p><code>cd /private/etc</code><br />
<code>sudo cp php.ini.default php.ini</code></p>

<p>Add the following to php.ini, it&rsquo;s okay to add it at the very beginning, it didn&rsquo;t give me problems that way</p>

<pre><code>detect_unicode = Off
date.timezone = YourCountry/YourCity
</code></pre>

<p>After saving the update php.ini,</p>

<p><code>cd /path/to/your/workarea</code><br />
<code>curl -s http://getcomposer.org/installer | php</code></p>

<p>composer.phar should be downloaded to /path/to/your/workarea. Test it</p>

<p><code>php composer.phar</code></p>

<h1 id="write-markdown-files-export-latex-html-etc">Write markdown files, export LaTex, HTML etc</h1>

<p>Get Pandoc, there are installation instructions on the <a href="http://johnmacfarlane.net/pandoc/installing.html">johnmacfarlane/pandoc</a> page. If you don&rsquo;t want to monkey around with Haskell, get the binary distributions. If you prefer the Haskell route on the other hand
1.  Get Haskell, either via brew, macport or fink
2.  Update the system path to include the <em>cabal</em> binaries, they would have been installed at ~/.cabal/bin
3.  <code>sudo cabal update</code>
4.  <code>sudo cabal install pandoc</code></p>

<h1 id="show-the-week-number-in-cal">Show the week number in cal</h1>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">`ncal -w`</td>
<td class="left">shows the week numbers</td>
</tr>


<tr>
<td class="left">`ncal -e`</td>
<td class="left">shows the dates for Easter</td>
</tr>
</tbody>
</table>

<h1 id="keyboard-shortcut-for-full-screen">Keyboard shortcut for Full Screen</h1>

<p>There is no built-in or standard shortcut for entering fullscreen. You have to define it. It isn&rsquo;t like Lubuntu where F10 gets any app into full screen mode. Fortunately, it&rsquo;s quite easy to add a keyboard shortcut for it.
1.  Go to <strong>System Preferences</strong> &rarr; <strong>Keyboard</strong> &rarr; <strong>App Shortcuts</strong>
2.  Click <strong>+</strong> to add a new shortcut
3.  Type <code>Enter Full Screen</code> in the box labeled as &ldquo;Menu title&rdquo;. This essentially is a like programming a macro. You need to type <code>Enter Full Screen</code> (exactly as it is, including which letter is capitalized) because it is the title of the menu option in most applications responsible for entering full screen mode. If you mess up the spelling or the case of this entry, you won&rsquo;t get the results you expect.</p>

<p>Though most applications have the <code>Enter Full Screen</code> menu title, some applications don&rsquo;t follow this convention e.g. iTerm2. So you need to verify what is the exact text that an application uses to enter full screen and use what&rsquo;s appropriate</p>

<p><img src="../images/fullscreen.png" alt="img" /></p>

<h1 id="cli-music-player">CLI music player</h1>

<h2 id="using-the-built-in-cli-player">Using the built in CLI player</h2>

<p><code>afplay MusicFileName.ext</code></p>

<p>This command will block, it will wait until the track has finished playing before you get returned to the prompt.</p>

<p><code>afplay</code> comes with OSX, it is already there</p>

<h2 id="music-on-console-moc">Music On Console (moc)</h2>

<p><code>brew update</code><br />
<code>brew install moc</code></p>

<p>moc will need the Jack Audio. If you pulled moc from brew, jackd may have been installed already. If not, just pull it from brew with <code>brew install jack</code>.  The jack audio needs to run as daemon before you can use moc</p>

<p><code>jackd -d coreaudio</code></p>

<p>Now you can run moc.</p>

<p><code>mocp Folder/</code> will launch a console UI, you can navigate the tracks using the arrow keys. Press ENTER to play a track. Press <strong>p</strong> to pause/play. <strong>q</strong> will exit</p>

<h1 id="fixing-homebrew-after-upgrade-to-10-9">Fixing homebrew after upgrade to 10.9</h1>

<p>The <code>brew update</code> command stopped working after upgrading to Mavericks. Fix it with</p>

<pre><code>$ cd `brew --prefix` 
$ git fetch origin 
$ sudo git reset --hard origin/master
$ brew update
</code></pre>

<h1 id="screen-shooting">Screen shooting</h1>

<p><strong>shift+cmd+4</strong> will turn the cursor to a cross hair. You can now click and drag the cross-hair to cover the region of the screen that you want to capture.</p>

<p>By default, the screen shot will be placed the Desktop. You can change this location on the terminal</p>

<pre><code>$ defaults write com.apple.screencapture location ~/Desktop/screenshots
$ killall SystemUIServer
</code></pre>

<h1 id="icloud-drive-access-from-cmd-line">iCloud drive access from cmd line</h1>

<p>Create a command line shortcut to it, of course</p>

<pre><code>ln -s ~/Library/Mobile\ Documents/com~apple~CloudDocs ~/icloud
</code></pre>

<p>Now, from anywhere in the terminal, you can do htis</p>

<p><code>$ cd ~/icloud</code></p>

<hr />

<p><strong>Revision history</strong></p>

<table>
<thead>
<tr>
<th>version</th>
<th>date revised</th>
<th>description</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>20.October.2014</td>
<td>First draft</td>
</tr>

<tr>
<td>1.1</td>
<td>26.October.2015</td>
<td>Added CLI music player etc.</td>
</tr>

<tr>
<td>1.2</td>
<td>29.July.2016</td>
<td>Screen shooting, and some rewrites/editing</td>
</tr>

<tr>
<td>1.3</td>
<td>4.June.2018</td>
<td>Added some stuff that&rsquo;s been in my nvAlt notebook</td>
</tr>
</tbody>
</table>

    </article>

    

    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/posts/python-exercises/" data-toggle="tooltip" data-placement="top" title="Python Exercises">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/posts/linux-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Linux Cheatsheet">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright">&copy; Copyright Ted Hagos</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-"><a href="" title=""></a></li>
  </ul>
  
</div>
<script src="/js/script.js"></script>
<script src="/js/custom.js"></script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'Toracking ID', 'auto');
ga('send', 'pageview');
</script>


</body>
</html>
