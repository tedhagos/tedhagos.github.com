<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Linux cheatsheet</title>
<!-- 2014-07-10 Thu 00:20 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Ted Hagos" />
<meta  name="description" content="The most common commands and tasks that I use in Linux"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="../css/stylesheet.css" type="text/css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Linux cheatsheet</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Copy pasting clipboard to/from terminal</a></li>
<li><a href="#sec-2">2. Find the version name</a></li>
<li><a href="#sec-3">3. Is my Linux 64 or 32 bit</a></li>
<li><a href="#sec-4">4. Find out how much disk space is left</a></li>
<li><a href="#sec-5">5. Change the password for root</a></li>
<li><a href="#sec-6">6. Divide your terminal screen and multiplex</a></li>
<li><a href="#sec-7">7. Secure Copy file from one machine to another*</a></li>
<li><a href="#sec-8">8. See if there is a CUPS configured printer</a></li>
<li><a href="#sec-9">9. Find out RAM and CPU info</a></li>
<li><a href="#sec-10">10. Mess around with network interfaces</a></li>
<li><a href="#sec-11">11. CLI browsing</a></li>
<li><a href="#sec-12">12. Display calendar</a></li>
<li><a href="#sec-13">13. Rip YouTube videos</a></li>
<li><a href="#sec-14">14. RDP from Windows to Linux</a></li>
<li><a href="#sec-15">15. Backup a MySQL database</a></li>
<li><a href="#sec-16">16. Manage the run level configuration</a></li>
<li><a href="#sec-17">17. SSH to your Linux box</a></li>
<li><a href="#sec-18">18. Install a print server</a></li>
<li><a href="#sec-19">19. Install Java RE and SDK from Oracle</a></li>
<li><a href="#sec-20">20. Screen capture</a></li>
<li><a href="#sec-21">21. View an image</a></li>
<li><a href="#sec-22">22. Mount an SMB or CIFS share</a></li>
<li><a href="#sec-23">23. System time is wrong all the time</a></li>
<li><a href="#sec-24">24. Check battery</a></li>
</ul>
</div>
</div>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Copy pasting clipboard to/from terminal</h2>
<div class="outline-text-2" id="text-1">
<p>
Can be done either via <i>xsel</i> or <i>xclip</i>. Xclip is part of most modern installations, so you it may be there in your installation already. The common usages are:
</p>

<p>
You copied something in an X window (browser or editor etc), you want to paste the content to the terminal. Unfortunately the terminal doesn't have access to the clipboard. But you can do this on the terminal using 
</p>

<p>
<code>echo `xclip -selection clipboard -o`</code> 
</p>

<p>
That command will echo the contents of clipboard to the console. If you wanted to append the clipboard contents to a file, you can do 
</p>

<p>
<code>echo `xclip -selection clipboard -o` &gt;&gt; somefile.txt</code> 
</p>

<p>
and that will do the trick
</p>

<p>
If you  need to copy the <b>contents of a text file to the clipboard</b>. This can be done by 
</p>

<p>
<code>cat somefile.txt | xclip -selection clipboard</code>
</p>

<p>
Now you can paste that content using <i>CTRL V</i> 
</p>

<p>
Typing <code>xclip -selection clipboard</code> is just way too many keystrokes. Put an alias to it. In ~/.bashrc, add the following
</p>

<pre class="example">
alias pbpaste="xclip -selection clipboard -o"
alias pbcopy="xclip -selection clipboard"
</pre>

<p>
Now you can
</p>

<p>
<code>echo `pbpaste` &gt;&gt; somefile.txt</code><br  />
<code>cat somefile.txt | pbcopy</code>
</p>
</div>
</div>


<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Find the version name</h2>
<div class="outline-text-2" id="text-2">
<p>
Find version name &#x2014; the wonky names, not the kernel number &#x2014; of Ubuntu, Lubuntu, Mint or any of its many derivatives.
</p>

<p>
<code>lsb_release -a</code>
</p>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Is my Linux 64 or 32 bit</h2>
<div class="outline-text-2" id="text-3">
<p>
<code>uname -a</code>
</p>

<p>
Does it contain <i>X86_64</i>? If it does, it is 64 bit
</p>
</div>
</div>



<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Find out how much disk space is left</h2>
<div class="outline-text-2" id="text-4">
<p>
<code>df -h</code>
</p>
</div>
</div>



<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Change the password for root</h2>
<div class="outline-text-2" id="text-5">
<p>
<code>sudo passwd root</code>
</p>

<p>
If you have an admin, ask for permission first if it is okay to do this. If it is just your own machine, go ahead and knock yourself off. You don't need to do things as root &#x2014; always. For that there is <i>sudo</i>
</p>
</div>
</div>



<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Divide your terminal screen and multiplex</h2>
<div class="outline-text-2" id="text-6">
<p>
<code>sudo apt-get install tmux</code>
</p>

<p>
You still need to configure tmux, but the basic idea is to launch tmux and do all your windowing there
<code>tmux new -s &lt;session-name&gt;</code>
</p>
</div>
</div>



<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Secure Copy file from one machine to another*</h2>
<div class="outline-text-2" id="text-7">
<p>
<code>scp username@remotemachine:somefile.txt ~/somefile.txt</code>
</p>

<p>
This will copy <i>somefile.txt</i> on <i>remotemachine</i> to the local machine
</p>

<p>
<code>scp somefile.txt username@remotemachine:/somefile.txt</code>
</p>

<p>
It will copy <i>somefile.txt</i> from the local machine to <i>remotemachine</i>
</p>
</div>
</div>



<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> See if there is a CUPS configured printer</h2>
<div class="outline-text-2" id="text-8">
<p>
<code>lynx http://localhost:631</code>
</p>

<p>
You can use Chrome or Firefox if it better suits you
</p>
</div>
</div>


<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Find out RAM and CPU info</h2>
<div class="outline-text-2" id="text-9">
<p>
<code>cat /proc/meminfo</code> to find out how much RAM<br  />
<code>cat /proc/cpuinfo</code> to find out CPU information
</p>
</div>
</div>


<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Mess around with network interfaces</h2>
<div class="outline-text-2" id="text-10">
<p>
The file you want is in <code>/etc/network/interfaces/</code>
</p>
</div>
</div>


<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> CLI browsing</h2>
<div class="outline-text-2" id="text-11">
<p>
<code>sudo apt-get install lynx</code><br  />
<code>lynx http://tldp.org</code>
</p>
</div>
</div>



<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> Display calendar</h2>
<div class="outline-text-2" id="text-12">
<p>
With week numbers etc
</p>

<dl class="org-dl">
<dt> cal      </dt><dd>displays the current month 
</dd>
<dt> cal 2014 </dt><dd>displays the whole year    
</dd>
<dt> ncal -w  </dt><dd>shows the week numbers     
</dd>
<dt> ncal -e </dt><dd>shows when Easter is       
</dd>
</dl>
</div>
</div>


<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> Rip YouTube videos</h2>
<div class="outline-text-2" id="text-13">
<p>
<code>sudo apt-get install youtube-dl ffmpeg lame</code><br  />
<code>cd ~/Videos</code><br  />
<code>youtube-dl http:/youtubevideoaddress</code>
</p>

<p>
The downloaded video is in <i>.webm</i> format, to convert to wav, do this
</p>

<p>
<code>ffmpeg -i filename.webm filename.wav</code>
</p>

<p>
To convert to mp3, do this further
</p>

<p>
<code>lame filename.wav filename.mp3</code>
</p>
</div>
</div>



<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> RDP from Windows to Linux</h2>
<div class="outline-text-2" id="text-14">
<p>
<code>sudo apt-get install xnest</code><br  />
</p>

<p>
Edit <i>etc/gdm/gdm.conf</i> then uncomment <i>RemoteGreeter</i> in the daemon section. Just delete the pound sign. Next, find the <i>xdmcp</i> section and change the value of the <i>Enable Key</i>, set it to <i>true</i>.
</p>

<p>
Log out so you can restart the GDM or you can execute this command
</p>

<p>
<code>sudo /etc/init.d/gdm restart</code>
</p>

<p>
After that, the box is ready to accept remote desktop connections from Windows clients
</p>



<p>
<b>Get a download accelerator</b>
</p>

<p>
<code>sudo apt-get install axel</code><br  />
<code>cd ~/Downloads</code><br  />
<code>axel -n 10 http://wordpress.org/latest.zip</code>
</p>

<p>
The int value of <i>-n</i> means the number of threads it will use to pull the file. Go easy on this one, don't try to punish the web server by setting a very high number. 10 seems a bit excessive already.
</p>
</div>
</div>



<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> Backup a MySQL database</h2>
<div class="outline-text-2" id="text-15">
<p>
<code>sudo mysqldump -u YourUserName -p --all-databases &gt; /path/to/dump/file.backup</code>
</p>

<p>
The dumped file is basically text. They are SQL commands that has both structure and data of the dumped database. To restore the db from the dumped file, do this
</p>

<p>
<code>mysql -u YourUserName -p</code>
</p>

<p>
<code>mysql&gt; create database nameOfNewDatabase</code><br  />
<code>mysql&gt; use nameOfNewDatabase</code><br  />
<code>mysql&gt; .\file.backup</code>
</p>
</div>
</div>



<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> Manage the run level configuration</h2>
<div class="outline-text-2" id="text-16">
<p>
If you don't want to always type <code>/etc/init.d/processname restart</code> get the run level config manager
</p>

<p>
<code>sudo apt-get install sysv-rc-conf</code><br  />
<code>sysv-rc-conf</code>
</p>

<p>
Use the minus sign(-) to stop processes and plus(+) sign to restart them. 
</p>
</div>
</div>



<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17"><span class="section-number-2">17</span> SSH to your Linux box</h2>
<div class="outline-text-2" id="text-17">
<p>
First, you need to make it an SSH server
</p>

<p>
<code>sudo apt-get install ssh</code>
</p>

<p>
Then from a remote host, connect to it
</p>

<p>
<code>ssh yourusername@remotehost</code>
</p>

<p>
<i>yourusername</i> has to be a defined account in the remotehost computer. You will be asked, the first time around, to store an entry inside ~/.ssh/known_hosts, say yes to this question
</p>



<p>
<b>Connect Windows to a CUPS printer</b>
</p>

<ol class="org-ol">
<li>Ping the CUPS printer, make sure there are no network connectivity issues
</li>
<li>Go to <i>Add Printers</i> dialog window
</li>
<li>Choose <i>Add network printer</i>
</li>
<li>Choose <i>My printer is not listed</i>, because it might not be
</li>
<li>There will be a box provided, type <code>http://ipofCUPSprinter:631/nameofQueue</code>. The <i>nameofQueue</i> is something your sys admin would know, so ask him. Or you could simple open up a browser and go to <a href="http://ipofCUPSprinter:631">http://ipofCUPSprinter:631</a>, the name of the queue is usually listed in there under the <i>Printers</i> section
</li>
<li>Select a driver for the printer, most Windows 7/8 boxes can simply pull this from the internet
</li>
</ol>
</div>
</div>



<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18"><span class="section-number-2">18</span> Install a print server</h2>
<div class="outline-text-2" id="text-18">
<p>
<code>sudo apt-get install cupsys</code>
</p>

<p>
Configure /etc/cups/cupsd.conf
</p>
</div>
</div>




<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19"><span class="section-number-2">19</span> Install Java RE and SDK from Oracle</h2>
<div class="outline-text-2" id="text-19">
<p>
<code>sudo add-apt-repository ppa:webupd8team/java</code><br  />
<code>sudo apt-get update</code><br  />
<code>sudo apt-get install oracle-java8-installer</code><br  />
<code>sudo update-alternatives --config java</code>
</p>
</div>
</div>


<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20"><span class="section-number-2">20</span> Screen capture</h2>
<div class="outline-text-2" id="text-20">
<p>
<code>sudo apt-get install imagemagick</code><br  />
<code>cd ~/Pictures</code>
</p>

<dl class="org-dl">
<dt> <code>import -window root Image1.png</code> </dt><dd>Take the screenshot of the whole screen
</dd>
<dt> <code>import Image2.png</code> </dt><dd>The mouse pointer will turn to a crosshair, click and drag the screen region you want to capture
</dd>
<dt> <code>import -frame Image3.png</code> </dt><dd>Just like the command above but this one captures the frame of the window region 
</dd>
</dl>
</div>

<div id="outline-container-sec-20-1" class="outline-3">
<h3 id="sec-20-1"><span class="section-number-3">20.1</span> Other options</h3>
<div class="outline-text-3" id="text-20-1">
<ol class="org-ol">
<li><code>sudo apt-get install shutter</code>
</li>
<li><code>sudo apt-get install gimp</code>
</li>
<li><code>sudo apt-get install gnome-screenshot</code> if you don't mind using gnome
</li>
<li>Just press PRT SC to get the whole screen
</li>
<li>Shift PRT SC to get just a portion of the screen
</li>
<li><code>scrot</code> This will silently take a screenshot of the whole screen, and will create a file on the current directory
</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21"><span class="section-number-2">21</span> View an image</h2>
<div class="outline-text-2" id="text-21">
<p>
<code>gpicview Image01.png</code>
</p>
</div>
</div>


<div id="outline-container-sec-22" class="outline-2">
<h2 id="sec-22"><span class="section-number-2">22</span> Mount an SMB or CIFS share</h2>
<div class="outline-text-2" id="text-22">
<p>
<code>sudo apt-get install smbclient</code><br  />
<code>sudo apt-get install cifs-utils</code><br  />
<code>sudo mount -t cifs //servername/folder ~/mountFolder</code>
</p>

<p>
If you don't know the name of the folder that is shared, use the smbclient to discover it
</p>

<p>
<code>sudo smbclient -L servername</code>
</p>

<p>
If you don't know the name of the server, although, you should, try to
</p>

<p>
<code>arp -n</code>
</p>

<p>
It should give you the list of servers that your machine already talked to. The problem is, what if you haven't talked to that machine yet? You could try to
</p>

<p>
<code>ping 255.255.255.255</code>  
</p>

<p>
Ping the whole network, try to see if you can recognize some servers in there
</p>
</div>
</div>


<div id="outline-container-sec-23" class="outline-2">
<h2 id="sec-23"><span class="section-number-2">23</span> System time is wrong all the time</h2>
<div class="outline-text-2" id="text-23">
<p>
Edit <code>/etc/default/rcS</code>
</p>

<p>
UTC is enabled by default, set it to no
</p>

<pre class="example">
UTC=no
</pre>

<p>
Reboot
</p>
</div>
</div>


<div id="outline-container-sec-24" class="outline-2">
<h2 id="sec-24"><span class="section-number-2">24</span> Check battery</h2>
<div class="outline-text-2" id="text-24">
<p>
The <code>ibam</code> doesn't seem to be applicable anymore. But instead there are two commands that might do the trick
</p>

<p>
<code>upower -e</code><br  />
<code>upower -i &lt;power source&gt;</code>
</p>

<p>
The -e option gives only the power sources, namely the battery and plugged power. The -i option gives a detailed info about the power source. So use the commands like this
</p>

<p>
<code>upower -i `upower -e`</code>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">By: <a href="https://plus.google.com/+TedHagos?rel=author">Ted Hagos</a></p> <p class="date">Updated on: 2014-06-30 Mon 21:45</p><p/><p>Discussions and comments at: <a href="https://muut.com/tedsnotebook">muut.com</a></p>
</div>
</body>
</html>
