<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>OSX Yosemite Mail Problem</title>
<!-- 2015-01-11 Sun 17:32 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Ted Hagos" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="../css/stylesheet.css" type="text/css" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">OSX Yosemite Mail Problem</h1>
<p>
Mail.app in Yosemite has a default setting of using <b>secure authentication</b> when it sends password. If you email server is not using secure authentication for checking credentials, you will not be able to send out any email.
</p>

<p>
The fix is simple. You only need to uncheck two option boxes on the <b>Accounts Preferences</b> window of Mail.app. The two checkboxes will prevent Mail.app from overriding your manual setting. One of them is found on the "Advanced" tab of the Accounts Preferences and other other one can be found on the "Edit SMTP Server list" window. You will also need to check one option box that will allow you to send plain username and password to your server.
</p>

<p>
When Mail.app is open, go to <b>Mail</b> menu,  <b>Preferences</b>, then click the <b>Accounts</b> tab. 
</p>


<div class="figure">
<p><img src="./images/accounts-pref-1.png" alt="accounts-pref-1.png" />
</p>
</div>

<p>
Uncheck the box that says "Automatically detect and maintain settings". If this is checked, Mail.app may overwrite whatever settings you change. We don't need that. On the same window, find the option box that says "Allow insecure authentication". This will let you authenticate using plain username and passwords.
</p>

<p>
From the "Advanced" tab, go to "Account information" tab and find the dropdown box for "Outgoing Mail Server". 
</p>



<div class="figure">
<p><img src="./images/accounts-pref-2.png" alt="accounts-pref-2.png" />
</p>
</div>

<p>
Click the dropdown and go to "Edit SMTP Server list"
</p>



<div class="figure">
<p><img src="./images/accounts-pref-3.png" alt="accounts-pref-3.png" />
</p>
</div>

<p>
Go to the "Advanced" tab and uncheck the "Automatically detect and maintain settings" option
</p>


<div class="figure">
<p><img src="./images/accounts-pref-4.png" alt="accounts-pref-4.png" />
</p>
</div>


<p>
When Mail.app ask you if you want to save the changes, save the changes. 
</p>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Editing the plist</h2>
<div class="outline-text-2" id="text-1">
<p>
The build of the Mail.app is suspicious, sometimes it respects the changes you've done on the Preferences window, sometimes it doesn't. If you find that Mail.app is ignoring your changes, you can go straight to the <b>plist</b> file. 
</p>

<p>
Open the file <b>~/Library/Mail/V2/MailData/Accounts.plist</b>. Find the entry for <b>UserAllowsInsecureAuthentication</b> and make sure the value is <b>true</b>
</p>

<pre class="example">
&lt;dict&gt;
&lt;key&gt;AccountName&lt;/key&gt;
&lt;string&gt;PH&lt;/string&gt;
&lt;key&gt;AccountType&lt;/key&gt;
&lt;string&gt;SMTPAccount&lt;/string&gt;
&lt;key&gt;AuthenticationScheme&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;
&lt;key&gt;CanonicalEmailAddress&lt;/key&gt;
&lt;string&gt;tedhagos@somedomain.com&lt;/string&gt;
&lt;key&gt;ConfigureDynamically&lt;/key&gt;
&lt;false/&gt;
&lt;key&gt;Hostname&lt;/key&gt;
&lt;string&gt;101.202.303.404&lt;/string&gt;
&lt;key&gt;MaxMessageBytes&lt;/key&gt;
&lt;integer&gt;31457280&lt;/integer&gt;
&lt;key&gt;PortNumber&lt;/key&gt;
&lt;integer&gt;587&lt;/integer&gt;
&lt;key&gt;ShouldUseAuthentication&lt;/key&gt;
&lt;string&gt;YES&lt;/string&gt;
&lt;key&gt;UserAllowsInsecureAuthentication&lt;/key&gt;
&lt;true/&gt;
&lt;key&gt;Username&lt;/key&gt;
&lt;string&gt;tedhagos@somedomain.com&lt;/string&gt;
&lt;key&gt;uniqueId&lt;/key&gt;
&lt;string&gt;12345678790&lt;/string&gt;
&lt;/dict&gt;
</pre>


<p>
The snippet above is not the whole plist file, you need to look for a <b>dict</b> entry whose key is <b>SMTPAccount</b>. There is more than one dict entry in the plist file, so be careful where you make the changes. Make sure you are making on the email account which you'd like to allow for insecure passing of username and password.
</p>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'thagos'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">By: <a href="https://plus.google.com/+TedHagos?rel=author">Ted Hagos (<a href="mailto:tedhagos@gmail.com">tedhagos@gmail.com</a>)</a></p> <p class="date">Updated on: 2014-11-27 Thu 00:26</p><p>Copyright &copy; Ted Hagos. All rights reserved</p>
</div>
</body>
</html>
