---

title: 02.5 Emulator
lastupdated: 07 April 2016

---


The ideal way to test android applications is to use actual physical devices. There is just no substitute for actual devices, you do not lose any fidelity between the testing process and the actual user experience. Your test experience will benefit too because there is no lag on response time while testing your app. Testing with actual physical devices, however, is not cost effective. Your test infrastructure might become prohibitively expensive if you purchase quite a few Android devices simply for the purpose of testing. This is the reason why we have emulators. 

Emulators allow us to see and experience our applications in a variety of platforms. 


## X86_64 or X_86 System images

Emulation is notoriously slow. This is the reason why Google and Intel came up with HAXM to respond to the emulation speed problem. HAXM (hardware accelerated execution manager) is a hardware assisted virtualization engine (hypervisor) that uses Intel virtualization technology.  If you are a Mac or Windows user, you can benefit from HAXM.   

### Windows

You can get HAXM in two ways. You can either get using the Android SDK manager, you will find it in the **extras** section or you can download it from the [Intel site](https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager). Getting it using the SDK manager does not automatically install it, you still have to double click the downloaded installer just like the way you install any other Windows application.  

### Mac 

Similar to how you would get HAXM on a Windows platform, there are two ways to get it as well on an OSX machine. You can get it via the SDK manager or by downloading it from the [Intel site](https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager).  Install HAXM the way you would install any other downloaded binary on a Mac. Double click the dmg file and follow the prompts. 

The installer will ask you for the amount of system memory you would like to allocate for HAXM. Choose whatever suits you, I did put 1536mb, that seemed sufficient enough. If you want to change the amount of system memory allocated for HAXM, you will need to run the installer again. There is no utility screen for managing HAXM.

You can verify that HAXM  is running using the command

~~~~
$ kextstat | grep intel
~~~~

You should see the kernel extension "com.intel.kext.intelhax" 

HAXM is automatically started and stopped by an IDE. If you are not using an IDE, you may have to manage the HAXM manually. 

To start HAXM

~~~~
$ sudo kextload -b com.intel.kext.intelhaxm
~~~~

To stop it

~~~~
$ sudo kextload -b com.intel.kext.intelhaxm
~~~~

## KVM

You cannot run HAXM on Linux, at least at the time of this writing. If you try to install it using the SDK manager, the SDK manager will tell you that HAXM is not compatible with Linux. To get the benefits accelerated hardware execution, you need to use KVM instead of HAXM.  The instructions  to install KVM  has been covered in earlier in the **Getting Started** chapter but we will excerpt it here for easy reference.

Reboot your PC and access the BIOS. Enable virtualization as necessary while you  are in the BIOS. Consult the motherboard or vendor manual on how to enable virtualization. Reboot when you are finished.  Next, we need to add some libraries to Linux

~~~~
sudo apt-get install qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils
sudo adduser your_user_name kvm
sudo adduser your_user_name libvirtd
~~~~

You need to reboot one more time. You can use KVM acceleration after that.

## Genymotion 

If for one reason or another, you cannot get HAXM on your system, there is still a way to benefit from accelerated emulation. The Genymotion emulator is an alternative, some may say even, a downright replacement of the Android AVD. It is a paid solution but there is a free plan. You can get from the [Genymotion website](https://www.genymotion.com/). Here are the basic steps on how to install Genymotion together with Android Studio

Genymotion relies on virtualbox for emulation. Install the precompiled binary of Virtualbox. Get the installer from the [virtualbox website](https://www.virtualbox.org/), choose your platform and install it like you would any other software, double click it and follow the prompts.  

Go to the [Genymotion website](https://www.genymotion.com) and sign up. The download link will be available once you are signed up. Choose the free plan, find the download section then download the precompiled binary appropriate for your platform). 

Run the Genymotion application, not the shell.

Click "add new virtual device", you need to sign in so you can download virtual device images. Pick what you need, but I suggest, pick the ones that match the API levels you have installed on the SDK manager.

Start the virtual device

Open Android Studio, go to "preferences" then "plugins". Search for "genymotion" and install the plugin. Restart the IDE. Click the Genymotion icon on the toolbar. It will ask you to specify the location of the Genymotion application, click the browse button to the right and navigate to the folder where the Genymotion application is installed. You should be able to start a Genymotion device from the IDE by now.


## ARM images

If you are out of luck so much that you cannot even run Genymotion, you will need to settle with ARM eabi images. This method of emulation does not benefit from any acceleration, virtual or otherwise.  This is the slowest of all the testing tools.

## References

1. **Intel**, HAXM - [speeding up the android emulator on an Intel architecture](https://software.intel.com/en-us/android/articles/speeding-up-the-android-emulator-on-intel-architecture#_Toc358213273). Retrieved 07 April 2016
2. **Intel**, HAXM on Windows - [installation instructions for Windows](https://software.intel.com/en-us/android/articles/installation-instructions-for-intel-hardware-accelerated-execution-manager-windows). Retrieved 07 April 2016
3. **Intel**, KVM on Linux- [installation instructions for Linux](https://software.intel.com/en-us/blogs/2012/03/12/how-to-start-intel-hardware-assisted-virtualization-hypervisor-on-linux-to-speed-up-intel-android-x86-emulator). Retrieved 07 April 2016
4. **Genymotion** - [genymotion documentation page](https://docs.genymotion.com/Content/Home.htm). Retrieved 07 April 2016



