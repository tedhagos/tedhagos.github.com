<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Liberty Profile notes</title>
<!-- 2014-11-18 Tue 20:27 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Ted Hagos" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="../css/stylesheet.css" type="text/css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Liberty Profile notes</h1>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> WebSphere Introduction</h2>
</div>


<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Editions</h2>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Core Concepts</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Cell, Nodes and Profiles</h3>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Full Profile and Liberty Profile</h3>
</div>
</div>


<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Liberty Profile</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Description</h3>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Simplified Configuration</h3>
<div class="outline-text-3" id="text-4-2">
<p>
There is only one XML file 
</p>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Dynamic runtime</h3>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Deployment Options</h3>
</div>
</div>


<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Installation</h2>
<div class="outline-text-2" id="text-5">
<p>
The Liberty Profile is provided as a no-charge and free to distribute set of packages. It comes as a set of jar files. 
</p>
</div>


<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Stand alone</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Download the jars from <a href="https://developer.ibm.com/wasdev/downloads/liberty-profile-beta/">WASDev.net</a>. 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">File</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">wlp-beta-runtime-xx.xx.xx.jar</td>
<td class="left">The core runtime</td>
</tr>

<tr>
<td class="left">wlp-beta-extended-xx.xx.xx.jar</td>
<td class="left">Extended runtime, if you will need JMS, WebServices etc</td>
</tr>

<tr>
<td class="left">wlp-beta-admin-xx.xx.xx.jar`</td>
<td class="left">A Rudimentary admin for the Liberty Profile. Very basic</td>
</tr>
</tbody>
</table>


<p>
Install each of the executable jars above using
</p>

<pre class="example">
java -jar wlp-runtime-xx.xx.xx.jar
</pre>

<p>
Replace the xx.xx.xx with the actual values of the jar file names you downloaded. The above command will install the Liberty Profile runtime. It will ask for a few questions e.g. would you like to read the license, do you accept the license and which directory would you like to install the Liberty runtime. The default installation directory is the current directory where you ran the <b>java -jar</b> command. From hereon, we will refer to this directory as <b>wasroot</b>
</p>

<p>
Next, install the extended runtime jars and the admin jars. It will ask for exactly the same questions.
</p>

<pre class="example">
java -jar wlp-beta-extended.xx.xx.xx.jar
java -jar wlp-beta-admin.xx.xx..xx.jar
</pre>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Installing the Liberty Profile in Eclipse</h3>
<div class="outline-text-3" id="text-5-2">
<p>
If the <a href="https://developer.ibm.com/wasdev/downloads/liberty-profile-beta/">WASDev.net</a> page is still open in your browser, look for the <b>Online</b> icon. Drag and drop the icon with the Eclipse logo inside an open instance of Eclipse. That will launch an installation window. 
</p>


<div class="figure">
<p><img src="./images/wasdev-page-net.png" alt="wasdev-page-net.png" />
</p>
</div>


<p>
You can also install the Liberty tools in Eclipse by using the Eclipse Market Place.
</p>

<ol class="org-ol">
<li>Open Eclipse
</li>
<li>From the Help menu, click <b>Market Place</b>
</li>
<li>Search for <b>WebSphere</b>
</li>
<li>Look for Liberty Profile for Luna. If you are using Eclipse Luna, otherwise, find the Liberty Profile for whatever edition of Eclipse you are using
</li>
</ol>

<p>
Follow the prompts. Eclipse will restart after the installation
</p>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1"><span class="section-number-4">5.2.1</span> Creating the server in Eclipse</h4>
<div class="outline-text-4" id="text-5-2-1">
<ol class="org-ol">
<li>Click <b>File</b>, <b>New</b>, <b>Other</b>
</li>
<li>Find the <b>Server</b> option
</li>
<li>When asked to select the Server type, look for the <b>IBM</b> folder and click <b>WebSphere Application Server v8.5 Liberty</b>
</li>
<li>Accept the default server name
</li>
</ol>

<p>
It will ask you to either point to an existing Liberty Profile runtime or define a new location. We have already installed our runtime above, so we will use that folder
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Creating Servers</h2>
<div class="outline-text-2" id="text-6">
<p>
The server scripts that you will need need are inside the *wasroot*/bin folder. For purposes of convenience, you may include that folder into your system path so you can invoke them from any directory
</p>

<p>
You can define many servers inside the Liberty Profile. Each server you create will be stored in the <b>wasroot</b> /usr/servers folder. Each server will have its own self contained configuration. 
</p>

<p>
To create a server, run the command
</p>

<pre class="example">
server create firstServer
</pre>

<p>
This will create a server folder named firstServer. You should now see it in <b>wasroot</b> /usr/servers/firstServer
</p>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Starting and Stopping servers</h3>
<div class="outline-text-3" id="text-6-1">
<p>
To start a server, use the command <b>server run firstServer</b>. This will run the server in the foreground, which means you will see all the console logs on the terminal. You can also start the server using the command <b>server start firstServer</b> which will run the server in the background. You will not see the cconsole logs in the terminal, but they are logged inside <b>wasroot</b> /logs/console.log
</p>

<p>
A server that was started using the <b>server run</b> can be stopped by pressing <b>CTRL C</b>. If you started the server using <b>server start</b>, you need to stop it using the command <b>server stop firstServer</b>
</p>
</div>
</div>


<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Server Configuration</h3>
<div class="outline-text-3" id="text-6-2">
<p>
The server configuration in WAS 8.5 is now a development artifact. This is a good thing because it is now simpler to include the server configuration in source control. When a server is created, you are given a really basic configuration file, but it has reasonable defaults. The Liberty Profile is configured by exception. It operates from a set of built-in configuration settings. 
</p>


<p>
Each server you will create will reside inside the <b>wasroot</b> /usr/servers folder. In our earlier example, we created a server named <b>firstserver</b>. That server definition is inside <b>wasroot</b> /usr/servers/firstserver
</p>

<pre class="example">
.
├── apps
├── dropins
├── logs
├── server.xml
└── workarea

4 directories, 1 file
</pre>

<p>
The <b>server.xml</b> file is located in the top level directory of a defined server, which in our case is named <b>firstserver</b>. If you try to run this server right now, without adding any JSP, Servlet or even a static HTMl file, you won't see much. You will simply see the greeting page of the Liberty Profile. We will add some development assets to this project in a little while.
</p>

<p>
The listing below is an example of a server configuration for a newly created server
</p>

<pre class="example">
&lt;server description="new server"&gt;

    &lt;!-- Enable features --&gt;
    &lt;featureManager&gt;
        &lt;feature&gt;jsp-2.2&lt;/feature&gt;
    &lt;/featureManager&gt;

    &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" --&gt;
    &lt;httpEndpoint httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint"/&gt;

&lt;/server&gt;
</pre>

<p>
The Liberty Profile's default port number is <b>9080</b>. It will listen on this port the moment you start a server. If you want your application to listen to another port number e.g. port 80, you simply need to change the value of <b>httpPort</b> in the server.xml file.
</p>

<pre class="example">
&lt;server description="new server"&gt;

    &lt;!-- Enable features --&gt;
    &lt;featureManager&gt;
        &lt;feature&gt;jsp-2.2&lt;/feature&gt;
    &lt;/featureManager&gt;

    &lt;httpEndpoint httpPort="80" id="defaultHttpEndpoint" host="*"/&gt;

&lt;/server&gt;
</pre>

<p>
The listing above has two changes. The httpPort is now listening on port 80. Which means that when you access this on your browser, you won't need to specify the port number anymore because 80 is the default for all browsers when it makes an HTTP request. The other change is that I have added a <b>host</b> attribute in the httpEndPoint element. This will allow you to access the application from any device other localhost. If you don't specify the host attribute, you will not be able to access your application from remote machines.
</p>

<p>
The server.xml configuration file has the following characteristics
</p>

<ol class="org-ol">
<li>It is purely XML. Hence you can manage it using the simplest of editors. As such, it also human readable
</li>
<li>It is small, easy to back up and simple to include in a source control
</li>
<li>It can be shared across an application development team
</li>
<li>Composeable and feature driven. Features that you will add can easily add their own configuration to the system
</li>
<li>Forgiving. If you missed an attribute on the feature declaration, the built-in default values will kick in. The level of frustration is low
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> Features</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Features are the units of functionality by which you control the pieces of the runtime environment that are loaded into a particular server.
</p>

<p>
Use the configuration file server.xml to declare which features you want to load. The set of features is enclosed within the <b>&lt;featureManager&gt;</b> element, and each feature within the <b>&lt;feature&gt;</b> subelement. For example:
</p>

<pre class="example">
&lt;server description="boo server"&gt;
  &lt;dataSource jndiName="jdbc/mysql"&gt;
    &lt;jdbcDriver id="mysqlDriver" libraryRef="mysql-connector"/&gt;
    &lt;properties URL="jdbc:mysql://localhost/liberty" password="" user="root"/&gt;
  &lt;/dataSource&gt;
 
  &lt;library description="MySQL JDBC Driver" id="mysql-connector" name="MySQL Connector"&gt;
    &lt;fileset dir="/Users/ted/progtools/mconnector" id="mysql-connector-jar" includes="mysql-connector-java-*.jar"/&gt;
  &lt;/library&gt;
 
  &lt;featureManager&gt;
    &lt;feature&gt;localConnector-1.0&lt;/feature&gt;
    &lt;feature&gt;servlet-3.0&lt;/feature&gt;
    &lt;feature&gt;jdbc-4.0&lt;/feature&gt;
  &lt;/featureManager&gt;
 
  &lt;applicationMonitor updateTrigger="mbean"/&gt;
 
  &lt;application id="AccessMySQL" location="AccessMySQL.war" name="AccessMySQL" type="war"/&gt;
  &lt;httpEndpoint httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint"/&gt;

    &lt;webApplication id="DBAccess" location="DBAccess.war" name="DBAccess"/&gt;
&lt;/server&gt;
</pre>

<p>
The listing above is a server that uses quite a few features. It uses jdbc4 and servlet3 features. The localconnector was added to this server so we can use the Java Management Extensions, <b>jmx</b>, on this local server. It just speed things up a bit. For a more complete list of features, refer to <a href="http://www-01.ibm.com/support/knowledgecenter/api/content/nl/en-us/was_beta_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_feat.html">Liberty Features page</a>
</p>
</div>
</div>


<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4"><span class="section-number-3">6.4</span> Eclipse</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Use the context menu of Eclipse to start, stop and restart the server
</p>
</div>
</div>
</div>


<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Deploying Apps</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Eclipse</h3>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Command Line</h3>
</div>
</div>



<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Recipes</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> JSP</h3>
<div class="outline-text-3" id="text-8-1">
<ol class="org-ol">
<li>File, <b>Dynamic Web Project</b> 
</li>
<li>Use the default location
</li>
<li>Check that Target Runtime is <b>WebSphere Application Server Liberty Profile</b>
</li>
<li>Dynamic web module version is 3.0
</li>
<li>Uncheck <b>Add the project to an EAR</b>, we will not be adding this to an Enterprise Archive
</li>
<li>We do not need to generate a web.xml file for this exercise, we will use the defaults of the Liberty profile. Click Finish
</li>
<li>On the <b>Servers</b> tab of Eclipse, use the context menu of our defined Liberty Profile server. Right click and choose <b>Add and Remove</b>
</li>
<li>Add a JSP file to our Project. Right click on the project, choose <b>New JSP</b>. Accept the defaults, they are reasonably right
</li>
<li>When the JSP editor opens in Eclipse, just add whatever text you want inside the <b>body</b> tag
</li>
</ol>
<p>
9.. Add the JSPSample project. Choose it from the list of <b>Available</b>, click the Add button so it goes to the <b>Configured</b> list and click <b>Finish</b>
</p>
<ol class="org-ol">
<li>On the servers tab, right click on our defined Liberty server, and choose <b>Start</b>
</li>
<li>Open a browser and open <a href="http://localhost:9080/JSPSample/Sample.jsp">http://localhost:9080/JSPSample/Sample.jsp</a>
</li>
</ol>
</div>
</div>


<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Servlet</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Create a new project in Eclipse, <b>File</b>, <b>New</b> then choose <b>Dynamic Web Project</b>. Give the project a name, say, <b>third</b>  and then uncheck the <b>Add Project to an EAR</b>. We won't be using EAR files still. Follow the prompts and click Finish. Add a Servlet to project third, give it a name and specify any package to your liking. Implement the <b>doGet()</b> method and add a simple println command to it
</p>

<pre class="example">
package com.tedhagos;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class Tres
 */
@WebServlet("/Tres")
public class Tres extends HttpServlet {
private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public Tres() {
        super();
        // TODO Auto-generated constructor stub
    }

/**
 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
 */
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
// TODO Auto-generated method stub
PrintWriter out = response.getWriter();
out.println("Hello Tres");
}
}
</pre>

<p>
In our JSP example earlier, we deployed the JSP project by using the <b>Add and Remove</b> context menu of the Liberty Profile server in Eclipse. For this example, we will explore the command line deployment.  
</p>

<p>
Export a war file for our project third. You can do this in Eclipse by clicking <b>File</b>, <b>Export</b>, then find the folder named Web, select <b>WAR file</b>. Click the next button. Choose project third from the Web Project drop down. Choose a destination folder. This folder is where Eclipse will write the war file.
</p>

<p>
Next, copy the export war file to <b>wasroot</b> /usr/servers/firstserver/dropins. The <b>dropins</b> folder is constantly polled by the Liberty Profile. Any WAR or EAR file that you put here will be decompressed and deployed.  
</p>
</div>
</div>



<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> JDBC</h3>
<div class="outline-text-3" id="text-8-3">
<p>
There are 
</p>

<ol class="org-ol">
<li>Prepare the database
</li>
<li>Server XML features
</li>
<li>The servlet which that access the database
</li>
</ol>
</div>

<div id="outline-container-sec-8-3-1" class="outline-4">
<h4 id="sec-8-3-1"><span class="section-number-4">8.3.1</span> Database preparation</h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
We will use a MySQL database for this example. The SQL script in the code listing below basically creates a database named "liberty" and  a table named "users" with a single column. 
</p>

<pre class="example">
drop database if exists liberty;
create database liberty;
use liberty;
create table users (
  id MEDIUMINT NOT NULL AUTO_INCREMENT,
    name CHAR(30) NOT NULL,
      PRIMARY KEY (id));
desc users;
</pre>
</div>
</div>

<div id="outline-container-sec-8-3-2" class="outline-4">
<h4 id="sec-8-3-2"><span class="section-number-4">8.3.2</span> Server configuration</h4>
<div class="outline-text-4" id="text-8-3-2">
<pre class="example">
&lt;server description="boo server"&gt;
  &lt;dataSource jndiName="jdbc/mysql"&gt;
    &lt;jdbcDriver id="mysqlDriver" libraryRef="mysql-connector"/&gt;
    &lt;properties URL="jdbc:mysql://localhost/liberty" password="" user="root"/&gt;
  &lt;/dataSource&gt;
 
  &lt;library description="MySQL JDBC Driver" id="mysql-connector" name="MySQL Connector"&gt;
    &lt;fileset dir="/Users/ted/progtools/mconnector" id="mysql-connector-jar" includes="mysql-connector-java-*.jar"/&gt;
  &lt;/library&gt;
 
  &lt;featureManager&gt;
    &lt;feature&gt;localConnector-1.0&lt;/feature&gt;
    &lt;feature&gt;servlet-3.0&lt;/feature&gt;
    &lt;feature&gt;jdbc-4.0&lt;/feature&gt;
  &lt;/featureManager&gt;
 
  &lt;applicationMonitor updateTrigger="mbean"/&gt;
 
  &lt;application id="AccessMySQL" location="AccessMySQL.war" name="AccessMySQL" type="war"/&gt;
  &lt;httpEndpoint httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint"/&gt;

    &lt;webApplication id="DBAccess" location="DBAccess.war" name="DBAccess"/&gt;
&lt;/server&gt;
</pre>
</div>
</div>
</div>




<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4"><span class="section-number-3">8.4</span> Session Bean</h3>
</div>

<div id="outline-container-sec-8-5" class="outline-3">
<h3 id="sec-8-5"><span class="section-number-3">8.5</span> JPA</h3>
</div>

<div id="outline-container-sec-8-6" class="outline-3">
<h3 id="sec-8-6"><span class="section-number-3">8.6</span> Message Driven Bean</h3>
</div>
</div>


<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> JVM Tuning</h2>
<div class="outline-text-2" id="text-9">
<p>
Each server created in the Liberty Profile comes with the default JVM options. The defaults are reasonable but in case you need to tweak it, you simply need to create a file named jvm.options and place it at the root directory of a server folder. In our case, if we would like to alter some settings of JVM for our <b>firstserver</b>, we need to create the options file and place in <b>wasroot</b> /usr/servers/firstserver/jvm.options. If you want the JVM options to be applicable to all servers, put the options file in <b>wasroot</b> /etc/jvm.options.
</p>

<p>
A change in the JVM options is one of the rare occassions where you have to restart your servers.  
</p>

<p>
One of the most settings tweak that is done to the JVM is to alter the memory allocated to JVM. By default, Liberty Profile has the following setting
</p>

<pre class="example">
-Xms4m
-Xmx488m
</pre>

<p>
That means the minimum Java heap size is 4 megabytes and the maximum heap size is 488 megabytes
</p>

<p>
On the rare occassion that you want to see a verbose log of the garbage collection process, you can include the following setting on the jvm.options. 
</p>

<pre class="example">
verbose:gc
</pre>

<p>
There are many settings that can be set in the jvm.options file, for a complete reference, you can consult this page <a href="http://jvm-options.tech.xebia.fr">JVM Options page at Xebia.fr</a>
</p>
</div>
</div>



<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Server options</h2>
</div>


<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> Resources</h2>
<div class="outline-text-2" id="text-11">
<ol class="org-ol">
<li>Redbooks
</li>
<li>IBM
</li>
</ol>



<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'thagos'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">By: <a href="https://plus.google.com/+TedHagos?rel=author">Ted Hagos (<a href="mailto:tedhagos@gmail.com">tedhagos@gmail.com</a>)</a></p> <p class="date">Updated on: 2014-11-18 Tue 20:17</p><p/>
</div>
</body>
</html>
